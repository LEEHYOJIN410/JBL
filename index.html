<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JBL</title>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --bg:#000;--fg:#fff;--accent:#e4572e;--muted:#a9a9a9;
      --glass:rgba(255,255,255,.06);--glass-stroke:rgba(255,255,255,.12);
      --radius:16px;--shadow:0 10px 30px rgba(0,0,0,.35)
    }
    html,body{
      scroll-behavior:smooth;background:#000;color:#fff;
      font-family:'Pretendard Variable',sans-serif;height:100%;overflow-x:hidden
    }

    /* 래퍼: 1920×980 섹션 유지 */
    .wrapper{width:100%;max-width:1920px;height:980px;margin:0 auto;position:relative}
    .wrapper section{width:100%;height:980px;scroll-margin-top:80px}

    /* Glass Nav */
    nav{
      position:fixed;inset:0 auto auto 0;height:80px;width:100%;
      display:flex;justify-content:space-between;align-items:center;z-index:1000;
      padding:0 40px;background:var(--glass);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
      border-bottom:1px solid var(--glass-stroke)
    }
    .logo{display:block;width:110px;height:52px;background:url('Nav5.png') center/contain no-repeat;transition:transform .25s}
    .logo:hover{transform:scale(1.1)}
    .nav-right{display:flex;gap:36px}
    .menu{font-size:18px;font-weight:700;color:#eee;text-decoration:none;position:relative;letter-spacing:.2px;transition:color .25s}
    .menu:hover{color:var(--accent)}
    .menu::after{content:"";position:absolute;left:0;bottom:-6px;width:0;height:2px;background:var(--accent);transition:width .25s}
    .menu:hover::after{width:100%}
    .spacer{height:80px}

    /* 공통 섹션 배경 */
    section{background-size:cover;background-position:center;background-repeat:no-repeat}

    /* HOME */
    #home{position:relative;background-image:url('img/JBLBG01.png')}
    .video-wrapper{position:absolute;inset:0;overflow:hidden;z-index:0}
    .video-wrapper iframe{width:100%;height:100%;border:0}

    /* ABOUT */
    #about{
      display:flex;flex-direction:column;align-items:center;justify-content:flex-start;
      padding:100px 80px 180px;background:url('img/JBLBG2.png') center/cover no-repeat;position:relative;z-index:1
    }
    #about .about-header{text-align:center;margin-bottom:36px}
    #about h1{font-size:48px;line-height:1.1;margin-bottom:10px}
    #about p{font-size:20px;color:#ddd}
    .card-container{display:flex;justify-content:center;align-items:stretch;gap:32px;flex-wrap:nowrap;width:100%}
    .card{
      position:relative;width:28%;aspect-ratio:3/4;background:linear-gradient(180deg,#111,#0b0b0b);
      border:1px solid var(--glass-stroke);border-radius:var(--radius);box-shadow:var(--shadow);
      display:flex;align-items:center;justify-content:center;overflow:hidden;
      opacity:0;transform:translateY(50px);transition:transform .25s,box-shadow .25s,border-color .25s
    }
    .card:hover{transform:translateY(-6px);box-shadow:0 16px 40px rgba(0,0,0,.5);border-color:rgba(255,255,255,.2)}
    .card .img-wrapper{position:absolute;inset:16% 6% 26% 6%}
    .card img{width:100%;height:100%;object-fit:contain;display:block}
    .card-text{
      position:absolute;left:14px;right:14px;bottom:14px;color:#fff;text-align:left;
      background:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,.55));padding:14px 16px;border-radius:10px
    }
    .card-text h3{font-size:18px;margin:0 0 6px}
    .card-text p{font-size:14px;color:#f1f1f1}
    .color-options{margin-top:10px;display:flex;gap:10px}
    .color-circle{
      width:22px;height:22px;border-radius:50%;border:2px solid #fff3;box-shadow:0 0 0 2px #000 inset;
      cursor:pointer;transition:transform .15s,box-shadow .15s
    }
    .color-circle:hover{transform:scale(1.15);box-shadow:0 0 0 2px #000 inset,0 0 0 2px #fff4}

    /* WORKS (Carousel – 페이드) */
    #works.carousel{
      position:relative;width:100%;height:980px;overflow:hidden;
      background:url('img/JBLBG03.png') center/cover no-repeat;color:#fff
    }
    .works-header{position:absolute;top:40px;left:50%;transform:translateX(-50%);text-align:center;opacity:0;translate:0 40px}
    .works-header h1{font-size:44px;margin-bottom:8px}
    .works-header p{font-size:18px;opacity:.85}
    .slides{position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center}
    .slide{
      width:100%;max-width:1600px;max-height:720px;margin:0 auto;opacity:0;transition:opacity .6s ease;
      position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:24px;overflow:hidden;
      border:1px solid rgba(255,255,255,.08)
    }
    .slide.active{opacity:1;z-index:1}
    .slide img{width:100%;height:100%;object-fit:cover;display:block;border-radius:24px}
    .carousel-btn{
      position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.45);color:#fff;border:none;
      font-size:28px;width:52px;height:52px;border-radius:50%;cursor:pointer;z-index:10;transition:background .2s,transform .1s
    }
    .carousel-btn:hover{background:rgba(0,0,0,.7)}
    .carousel-btn:active{transform:translateY(-50%) scale(.97)}
    .carousel-btn.prev{left:3%}.carousel-btn.next{right:3%}
    .counter{
      position:absolute;bottom:26px;left:50%;transform:translateX(-50%);color:#fff;font-size:15px;letter-spacing:.4px;
      padding:6px 10px;border-radius:999px;background:rgba(0,0,0,.35);border:1px solid rgba(255,255,255,.12)
    }

    /* MUSIC */
    #music{
      background:url('img/JBLBG4.png') center/cover fixed no-repeat;height:100vh;
      display:flex;flex-direction:column;align-items:center;justify-content:flex-start;text-align:center;z-index:1
    }
    #music .image-container{width:100%;height:100%;overflow:hidden;position:relative}
    #music .image-container img{width:100%;height:100%;object-fit:cover;object-position:center;margin-top:20vh}
    #music .content{
      background:rgba(0,0,0,.5);height:20vh;width:100%;
      display:flex;flex-direction:column;align-items:center;justify-content:flex-start;color:#fff;margin-top:20vh
    }
    #music h2{font-size:40px;margin-bottom:14px}
    #music p{font-size:18px;margin-bottom:20px;opacity:.9}
    #music .explore-btn{padding:12px 22px;font-size:16px;border:none;border-radius:10px;background:var(--accent);color:#fff;cursor:pointer;transition:filter .2s}
    #music .explore-btn:hover{filter:brightness(1.05)}

    /* BRAND – 중앙 슬라이드(썸네일/사이드 버튼 제거) */
    #brand{
      background:url('img/JBLBG5.png') center/cover no-repeat;position:relative;z-index:1;height:980px;
      display:flex;align-items:center;justify-content:center;padding:0 40px
    }
    .brand-slider{
      position:relative;width:min(1200px,88vw);height:min(700px,70vh);
      border-radius:24px;overflow:hidden;
      background:linear-gradient(180deg,rgba(0,0,0,.15),rgba(0,0,0,.45));
      border:1px solid rgba(255,255,255,.12);box-shadow:var(--shadow)
    }
    .brand-track{position:absolute;inset:0;display:flex;transition:transform .6s ease}
    .brand-slide{position:relative;min-width:100%;height:100%}
    .brand-slide img{width:100%;height:100%;object-fit:cover;display:block;filter:contrast(1.02) saturate(1.02)}

    .brand-meta{
      position:absolute;left:0;right:0;bottom:0;padding:22px 28px;text-align:center;
      background:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,.55))
    }
    .brand-year{font-size:40px;font-weight:900;letter-spacing:.6px;margin-bottom:6px}
    .brand-desc{font-size:18px;color:#f0f0f0;opacity:.95;line-height:1.6}

    .brand-nav{
      position:absolute;top:50%;transform:translateY(-50%);
      background:rgba(0,0,0,.45);color:#fff;border:none;width:52px;height:52px;border-radius:50%;
      font-size:28px;cursor:pointer;z-index:2;transition:background .2s ease,transform .1s ease
    }
    .brand-nav:hover{background:rgba(0,0,0,.7)}
    .brand-nav:active{transform:translateY(-50%) scale(.97)}
    .brand-nav.prev{left:14px}.brand-nav.next{right:14px}

    .brand-dots{
      position:absolute;left:50%;transform:translateX(-50%);bottom:14px;display:flex;gap:10px;z-index:2
    }
    .brand-dot{
      width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.35);border:1px solid rgba(255,255,255,.5);
      cursor:pointer;transition:transform .15s,background .15s
    }
    .brand-dot.active{background:#fff;transform:scale(1.15)}

    /* 캐릭터 */
    .character{position:absolute;right:2%;bottom:2%;z-index:2}
    .character img{width:12vw;height:auto;transition:transform .25s}
    .character img:hover{transform:scale(1.05)}
  </style>
</head>
<body>
  <div class="wrapper">
    <nav>
      <a href="#home" class="logo"></a>
      <div class="nav-right">
        <a href="#about" class="menu">메인</a>
        <a href="#works" class="menu">추천분야</a>
        <a href="#music" class="menu">음향기기</a>
        <a href="#brand" class="menu">브랜드</a>
      </div>
    </nav>

    <div class="spacer"></div>

    <!-- HOME -->
    <section id="home">
      <div class="video-wrapper">
        <iframe
        src="https://www.youtube.com/embed/LHIUJ08vXf4?autoplay=1&mute=1&loop=1&playlist=LHIUJ08vXf4&controls=0&modestbranding=1&playsinline=1"
        frameborder="0"
        allow="autoplay; encrypted-media; picture-in-picture"
        allowfullscreen></iframe>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <div class="character"><img src="JBLCharacter.png" alt="캐릭터" /></div>

      <div class="about-header">
        <h1>JBL 인기 제품</h1>
        <p>최신 기술이 집약된 프리미엄 라인업</p>
      </div>

      <div class="card-container">
        <!-- Card 1 -->
        <div class="card">
          <div class="img-wrapper">
            <img class="img-main" src="card/headphone1.png" alt="제품 이미지" />
            <img class="img-fade" src="card/headphone2.png" alt="페이드 이미지" style="opacity:0" />
          </div>
          <div class="card-text">
            <h3>JBL Tour Pro 3</h3>
            <p>339,000원</p>
            <div class="color-options">
              <span class="color-circle" data-img="card/headphone1.png" style="background:black" data-index="0"></span>
              <span class="color-circle" data-img="card/headphone2.png" style="background:#c8b6a6" data-index="1"></span>
            </div>
          </div>
        </div>

        <!-- Card 2 -->
        <div class="card">
          <div class="img-wrapper">
            <img class="img-main" src="card/Headphone3.png" alt="제품 이미지" />
            <img class="img-fade" src="card/Headphone4.png" alt="페이드 이미지" style="opacity:0" />
            <img class="img-fade" src="card/Headphone5.png" alt="페이드 이미지" style="opacity:0" />
            <img class="img-fade" src="card/Headphone6.png" alt="페이드 이미지" style="opacity:0" />
          </div>
          <div class="card-text">
            <h3>JBL Tune 770NC</h3>
            <p>179,000원</p>
            <div class="color-options">
              <span class="color-circle" data-img="card/headphone3.png" style="background:plum" data-index="0"></span>
              <span class="color-circle" data-img="card/headphone4.png" style="background:black" data-index="1"></span>
              <span class="color-circle" data-img="card/headphone5.png" style="background:blue" data-index="2"></span>
              <span class="color-circle" data-img="card/headphone6.png" style="background:white" data-index="3"></span>
            </div>
          </div>
        </div>

        <!-- Card 3 -->
        <div class="card">
          <div class="img-wrapper">
            <img class="img-main" src="card/speaker1.png" alt="제품 이미지" />
            <img class="img-fade" src="card/speaker2.png" alt="페이드 이미지" style="opacity:0" />
            <img class="img-fade" src="card/speaker3.png" alt="페이드 이미지" style="opacity:0" />
            <img class="img-fade" src="card/speaker4.png" alt="페이드 이미지" style="opacity:0" />
          </div>
          <div class="card-text">
            <h3>JBL Clip 5</h3>
            <p>89,000원</p>
            <div class="color-options">
              <span class="color-circle" data-img="card/speaker1.png" style="background:red" data-index="0"></span>
              <span class="color-circle" data-img="card/speaker2.png" style="background:purple" data-index="1"></span>
              <span class="color-circle" data-img="card/speaker3.png" style="background:black" data-index="2"></span>
              <span class="color-circle" data-img="card/speaker4.png" style="background:white" data-index="3"></span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- WORKS -->
    <section id="works" class="carousel">
      <div class="works-header">
        <h1>JBL에서 느낄 수 있는 여러 장르들</h1>
        <p>라이프스타일에 따라 어울리는 JBL</p>
      </div>

      <button class="carousel-btn prev">‹</button>

      <div class="slides">
        <div class="slide"><img src="Carousel/Carousel01.png" alt="아이템 1"></div>
        <div class="slide"><img src="Carousel/Carousel02.png" alt="아이템 2"></div>
        <div class="slide"><img src="Carousel/Carousel03.png" alt="아이템 3"></div>
        <div class="slide"><img src="Carousel/Carousel04.png" alt="아이템 4"></div>
        <div class="slide"><img src="Carousel/Carousel05.png" alt="아이템 5"></div>
      </div>

      <button class="carousel-btn next">›</button>

      <div class="counter"><span class="current">1</span>/<span class="total">5</span></div>
    </section>

    <!-- MUSIC -->
    <section id="music">
      <div class="image-container">
        <img src="img/cp.png" alt="Music Section Image" />
      </div>
      <div class="content">
        <h2>음악을 위한 JBL</h2>
        <p>최고의 사운드를 경험하세요. JBL로 음악을 더 깊고 풍부하게 즐길 수 있습니다.</p>
        <button class="explore-btn">더 알아보기</button>
      </div>
    </section>

    <!-- BRAND: 중앙 슬라이드 -->
    <section id="brand">
      <div class="brand-slider">
        <button class="brand-nav prev" aria-label="이전">‹</button>

        <div class="brand-track"><!-- JS에서 슬라이드 주입 --></div>

        <button class="brand-nav next" aria-label="다음">›</button>

        <div class="brand-meta">
          <div class="brand-year">1940s</div>
          <p class="brand-desc">JBL의 역사</p>
        </div>

        <div class="brand-dots" aria-label="슬라이드 인디케이터"></div>
      </div>
    </section>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      /* ===== WORKS 캐러셀 ===== */
      const slides = document.querySelectorAll(".slide");
      const currentEl = document.querySelector(".current");
      const totalEl = document.querySelector(".total");
      const prevBtn = document.querySelector(".prev");
      const nextBtn = document.querySelector(".next");

      let current = 0;
      const total = slides.length;
      totalEl.textContent = total;

      function showSlide(index) {
        slides.forEach((s, i) => s.classList.toggle("active", i === index));
        currentEl.textContent = index + 1;
      }
      const goPrev = () => { current = (current - 1 + total) % total; showSlide(current); };
      const goNext = () => { current = (current + 1) % total; showSlide(current); };

      prevBtn.addEventListener("click", goPrev);
      nextBtn.addEventListener("click", goNext);
      showSlide(current);
      setInterval(goNext, 5000);

      /* ===== GSAP ===== */
      gsap.registerPlugin(ScrollTrigger);
      gsap.utils.toArray(".card").forEach((card, i) => {
        gsap.to(card, {
          scrollTrigger: { trigger: card, start: "top 85%", toggleActions: "play none none none" },
          opacity: 1, y: 0, duration: 0.8, ease: "power2.out", delay: i * 0.08
        });
      });
      gsap.to(".works-header", {
        scrollTrigger: { trigger: "#works", start: "top 85%", toggleActions: "play none none none" },
        opacity: 1, y: 0, duration: 0.9, ease: "power2.out"
      });

      /* ===== BRAND: 중앙 슬라이드 ===== */
      const brandData = [
        { year: '1940s', img: 'year/year1.png', desc: '1940년대 James Bullough Lansing이 JBL을 설립' },
        { year: '1950s', img: 'year/year2.png', desc: '1950년대 하이파이 오디오 붐이 일어남 대표적인 모델 Paragon을 만듦' },
        { year: '1960s', img: 'year/year3.png', desc: '1960년대 가구처럼 생긴 고급 스피커 붐 대표적인 모델 Hartsfield' },
        { year: '1970s', img: 'year/year4.png', desc: '1970년대 프로 오디오로 확장. 방송국, 녹음실에서 쓰는 모델을 주력' },
        { year: '1980s', img: 'year/year5.png', desc: '1980년대 프로 오디오지만, 일반 소비자도 노린 제품 출시.' },
        { year: '1990s', img: 'year/year6.png', desc: '1990년대 일반 소비자를 위한 제품을 주력으로 출시.' },
        { year: '2000s', img: 'year/year7.png', desc: '2000년대 홈 오디오 열풍, 휴대성이 높은 제품 출시.' },
        { year: '2010s', img: 'year/year8.png', desc: '2010년대 블루투스 스피커 시대' },
        { year: '2020s', img: 'year/year9.png', desc: '2020년대 블루투스 오디오를 주력으로 확장.' },
      ];

      const track = document.querySelector('.brand-track');
      const yearEl = document.querySelector('.brand-year');
      const descEl = document.querySelector('.brand-desc');
      const prevB = document.querySelector('.brand-nav.prev');
      const nextB = document.querySelector('.brand-nav.next');
      const dotsWrap = document.querySelector('.brand-dots');

      // 슬라이드/도트 DOM 생성
      brandData.forEach((d, i) => {
        const slide = document.createElement('div');
        slide.className = 'brand-slide';
        slide.setAttribute('role', 'group');
        slide.setAttribute('aria-label', `${i+1} / ${brandData.length}`);
        slide.innerHTML = `<img src="${d.img}" alt="${d.year} 이미지" />`;
        track.appendChild(slide);

        const dot = document.createElement('button');
        dot.className = 'brand-dot';
        dot.setAttribute('aria-label', `${d.year} 보기`);
        dot.addEventListener('click', () => goTo(i));
        dotsWrap.appendChild(dot);
      });

      const dots = Array.from(document.querySelectorAll('.brand-dot'));
      let idx = 0, autoTimer = null;

      function render(){
        track.style.transform = `translateX(-${idx * 100}%)`;
        yearEl.textContent = brandData[idx].year;
        descEl.textContent = brandData[idx].desc || 'JBL의 역사';
        dots.forEach((dot, i) => dot.classList.toggle('active', i === idx));
      }
      function goTo(i){ idx = (i + brandData.length) % brandData.length; render(); restartAuto(); }
      const goPrevBrand = () => goTo(idx - 1);
      const goNextBrand = () => goTo(idx + 1);

      prevB.addEventListener('click', goPrevBrand);
      nextB.addEventListener('click', goNextBrand);

      function startAuto(){ autoTimer = setInterval(goNextBrand, 5000); }
      function stopAuto(){ clearInterval(autoTimer); }
      function restartAuto(){ stopAuto(); startAuto(); }

      // 자동재생 + 마우스오버 일시정지
      startAuto();
      document.querySelector('.brand-slider').addEventListener('mouseenter', stopAuto);
      document.querySelector('.brand-slider').addEventListener('mouseleave', startAuto);

      // 키보드/스와이프
      window.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') goPrevBrand();
        if (e.key === 'ArrowRight') goNextBrand();
      });
      let sx = null;
      track.addEventListener('touchstart', (e)=> sx = e.touches[0].clientX, {passive:true});
      track.addEventListener('touchmove', (e)=>{
        if(sx===null) return;
        const dx = e.touches[0].clientX - sx;
        if(Math.abs(dx) > 40){ dx>0 ? goPrevBrand() : goNextBrand(); sx=null; }
      },{passive:true});

      // 초기 렌더
      render();
    });
  </script>
</body>
</html>
